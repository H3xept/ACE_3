IN $S1
MOVE $S2 $S1
LOAD $T1 1
LOAD $S3 0
G:
SHR $S2 $T1
ADD $S3 $T1
SKC $S2
JUMP A
JUMP G
A:
JUMP B
MOVE $S1 $T1
LOAD $T4 1
LOAD $T3 -1
E:
ADD $S3 $T3
SKC $S3
JUMP D
MOVE $T2 $T1
AND $T2 $T4
OUT $T2 0x0
SHR $T1 $T4
JUMP E
D:
OUT $T1 0x1
HALT
B:
LOAD $T1 1
STORE $SP $FP
MOVE $FP $SP
ADD $SP $T1
STORE $SP $RA
ADD $SP $T1
STORE $SP $S1
ADD $SP $T1
STORE $SP $S2
ADD $SP $T1
STORE $SP $S3
ADD $SP $T1
STORE $SP $S4
ADD $SP $T1
STORE $SP $S5
ADD $SP $T1
LOAD $S5 0
LOAD $S4 -15
LOAD $T1 0
LOAD $T3 1
F:
SHL $T1 $T3
MOVE $T2 $S1
AND $T2 $T3
OR $T1 $T2
SHR $S1 $T3
ADD $S4 $T3
SKC $S1
JUMP C
JUMP F
C:
LOAD $T4 -1
ADD $SP $T4
LOAD $S5 $SP
ADD $SP $T4
LOAD $S4 $SP
ADD $SP $T4
LOAD $S3 $SP
ADD $SP $T4
LOAD $S2 $SP
ADD $SP $T4
LOAD $S1 $SP
ADD $SP $T4
LOAD $RA $SP
ADD $SP $T4
LOAD $FP $SP
JUMP 0xfff

POP:
0x34
-45
420